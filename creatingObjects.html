<script>
  // Creating objects using Factory Function(s)
  function thing(someVar) {
    return {
      x: someVar,
      y: 3.14,
      f: function () {},
      g: function () {}
    };
  }

  var o = thing(44); // This should be the same as var o = new thing(44);
  // But there’s a drawback. This approach of JavaScript object creation can cause memory bloat,
  // because each object contains its own unique copy of each function.
  // Ideally, we want every object to share just one copy of its functions.

  // -------------------------------------------------------------------------------------------

  // Creating object(s) using Prototype Chains (by using Object.create)
  var thingPrototype = {
    f: function () {},
    g: function () {}
  };

  function thing() {
    var o = Object.create(thingPrototype);

    o.x = 42;
    o.y = 3.14;

    return o;
  }

  var o = thing();

  // In fact, this is such a common pattern that the language has built-in support for it.
  // We don’t need to create our own shared object (the prototype object).
  // Instead, a prototype object is created for us automatically alongside every function,
  // and we can put our shared data there:
  thing.prototype.f = function () {};
  thing.prototype.g = function () {};

  function thing() {
    var o = Object.create(thing.prototype);

    o.x = 42;
    o.y = 3.14;

    return o;
  }

  var o = thing();
</script>